@page
@model LingoVerse.Pages.User.CommunityDetailModel
@{
}
<head>
    <link rel="stylesheet" href="~/css/CommunityDetail.css" asp-append-version="true" />
</head>
<!-- Main Content -->
<div class="container">
    <!-- Post Detail -->
    <div class="post-detail">
        <h1>Hôm Nay Là Một Ngày Đẹp Trời</h1>
        <div class="post-info">
            <i class="far fa-clock"></i> 17/03/2025, 10:30:00
            <span class="vote-highlight" id="vote-count"><i class="fas fa-thumbs-up"></i> 120 lượt vote</span>
        </div>
        <div class="post-content">
            <p>Mọi người nghĩ sao về thời tiết hôm nay? Trời xanh, nắng nhẹ, thật tuyệt để ra ngoài dạo chơi hoặc ngồi đọc sách bên cửa sổ. Mình đang nghĩ đến việc đi công viên chiều nay, có ai muốn tham gia không?</p>
        </div>
        <div class="post-actions">
            <button class="btn btn-vote" id="vote-button"><i class="fas fa-thumbs-up"></i> Vote</button>
            <button class="btn btn-share" id="share-button"><i class="fas fa-share"></i> Chia sẻ</button>
            <button class="btn btn-report" id="report-button"><i class="fas fa-flag"></i> Báo cáo</button>
        </div>
    </div>

    <!-- Comments Section -->
    <div class="comments-section">
        <h3><i class="fas fa-comments"></i> Bình luận</h3>
        <textarea class="comment-input" id="comment-input" placeholder="Viết bình luận của bạn..."></textarea>
        <div class="text-end">
            <button class="btn btn-comment" id="comment-button">Đăng bình luận</button>
        </div>
        <div class="comment-list" id="comment-list">
            <div class="comment-item">
                <p>Rất đồng ý! Trời đẹp thế này không ra ngoài thì phí lắm.</p>
                <small><i class="far fa-clock"></i> 17/03/2025, 11:00:00</small>
            </div>
            <div class="comment-item">
                <p>Mình cũng thích trời như hôm nay, nhưng đang bận làm việc, tiếc ghê.</p>
                <small><i class="far fa-clock"></i> 17/03/2025, 10:45:00</small>
            </div>
        </div>
    </div>
</div>

<script>
    document.addEventListener('DOMContentLoaded', function () {
        // Xử lý Vote
        let voteCount = 120;
        document.getElementById('vote-button').addEventListener('click', function () {
            voteCount++;
            document.getElementById('vote-count').innerHTML = `<i class="fas fa-thumbs-up"></i> ${voteCount} lượt vote`;
            alert('Bạn đã vote bài viết này!');
        });

        // Xử lý Chia sẻ
        document.getElementById('share-button').addEventListener('click', function () {
            const url = window.location.href;
            navigator.clipboard.writeText(url).then(() => {
                alert('Link bài viết đã được sao chép để chia sẻ!');
            });
        });

        // Xử lý Báo cáo
        document.getElementById('report-button').addEventListener('click', function () {
            alert('Cảm ơn bạn đã báo cáo! Chúng tôi sẽ xem xét bài viết này.');
        });

        // Xử lý Đăng bình luận
        document.getElementById('comment-button').addEventListener('click', function () {
            const content = document.getElementById('comment-input').value.trim();
            if (!content) {
                alert('Vui lòng nhập nội dung bình luận!');
                return;
            }

            const commentList = document.getElementById('comment-list');
            const commentItem = document.createElement('div');
            commentItem.className = 'comment-item';
            commentItem.innerHTML = `
                        <p>${content}</p>
                        <small><i class="far fa-clock"></i> ${new Date().toLocaleString('vi-VN')}</small>
                    `;
            commentList.insertBefore(commentItem, commentList.firstChild);
            document.getElementById('comment-input').value = '';
        });
    });
</script>