@page
@model LingoVerse.Pages.User.FlashcardAddModel
@{
}
<head>
    <link rel="stylesheet" href="~/css/FlashcardAdd.css" asp-append-version="true" />
</head>
<!-- Main Content -->
<div class="main-content">
    <div class="container">
        <div class="create-container">
            <h2>Tạo Bộ Thẻ Ghi Nhớ</h2>
            <form id="flashcardForm">
                <div class="set-info">
                    <div class="mb-3">
                        <label class="form-label">Ngôn ngữ <span style="color: #dc3545">*</span></label>
                        <select class="form-select" required>
                            <option value="">Chọn ngôn ngữ</option>
                            <option value="english">Tiếng Anh</option>
                            <option value="french">Tiếng Pháp</option>
                            <option value="japanese">Tiếng Nhật</option>
                        </select>
                    </div>
                    <div class="mb-3">
                        <label class="form-label">Cấp độ <span style="color: #dc3545">*</span></label>
                        <select class="form-select" required>
                            <option value="">Chọn cấp độ</option>
                            <option value="beginner">Sơ cấp</option>
                            <option value="intermediate">Trung cấp</option>
                            <option value="advanced">Nâng cao</option>
                        </select>
                    </div>
                    <div class="mb-3">
                        <label for="setName" class="form-label">Tên Bộ Thẻ</label>
                        <input type="text" class="form-control" id="setName" placeholder="Nhập tên bộ thẻ..." required>
                    </div>
                </div>
                <div id="wordList">
                    <div class="word-entry">
                        <textarea class="form-control vocab" rows="1" placeholder="Từ vựng" required></textarea>
                        <textarea class="form-control definition" rows="1" placeholder="Định nghĩa" required></textarea>
                        <button type="button" class="delete-btn" onclick="deleteWordEntry(this)">
                            <i class="fas fa-trash"></i>
                        </button>
                    </div>
                </div>
                <button type="button" class="add-word-btn" onclick="addWordEntry()">
                    <i class="fas fa-plus"></i> Thêm Từ
                </button>
                <button type="submit" class="save-btn"><i class="fas fa-save"></i> Lưu Bộ Thẻ</button>
            </form>
        </div>
    </div>
</div>
<script>
    function addWordEntry() {
        const wordList = document.getElementById('wordList');
        const newEntry = document.createElement('div');
        newEntry.className = 'word-entry';
        newEntry.innerHTML = `
                    <textarea class="form-control vocab" rows="1" placeholder="Từ vựng" required></textarea>
                    <textarea class="form-control definition" rows="1" placeholder="Định nghĩa" required></textarea>
                    <button type="button" class="delete-btn" onclick="deleteWordEntry(this)">
                        <i class="fas fa-trash"></i>
                    </button>
                `;
        wordList.appendChild(newEntry);
    }

    function deleteWordEntry(button) {
        const wordEntry = button.parentElement;
        wordEntry.remove();
    }

    document.getElementById('flashcardForm').addEventListener('submit', function (e) {
        e.preventDefault();
        const language = document.querySelector('.filter-selects select:first-child').value;
        const level = document.querySelector('.filter-selects select:last-child').value;
        if (!language || !level) {
            alert('Vui lòng chọn ngôn ngữ và cấp độ!');
            return;
        }
        // Logic lưu vào database ở đây
        alert('Bộ thẻ đã được lưu!');
    });
</script>